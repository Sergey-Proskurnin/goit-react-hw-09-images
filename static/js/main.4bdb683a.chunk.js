(this["webpackJsonpgoit-react-hw-09-images"]=this["webpackJsonpgoit-react-hw-09-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1LAAF",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__-J4lR"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__ZDGnq",Modal:"Modal_Modal__3ifpb"}},23:function(e,t,a){},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3HEMA"}},25:function(e,t,a){e.exports={Button:"Button_Button__3tcBB"}},28:function(e,t,a){e.exports={Loader:"Loader_Loader__3qkQe"}},34:function(e,t,a){},35:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__mi2VE",SearchForm:"Searchbar_SearchForm__2XL2-",SearchFormButton:"Searchbar_SearchFormButton__2Q9NG",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__pltun",SearchFormInput:"Searchbar_SearchFormInput__1VQZu"}},75:function(e,t,a){"use strict";a.r(t);var r=a(1),o=a.n(r),n=a(21),c=a.n(n),s=(a(33),a(34),a(22)),i=a(12),l=a(5),u=a(6),m=a(8),d=a(7),h=(a(35),a(23)),p=a.n(h),g=a(0),b=function(e){var t=e.children;return Object(g.jsx)("div",{className:p.a.container,children:t})},j=a(4),y=a.n(j),f=function(e){var t=e.onSetQuery,a=e.searchQuery,r=e.onSubmit;return Object(g.jsx)("header",{className:y.a.Searchbar,children:Object(g.jsxs)("form",{onSubmit:r,className:y.a.SearchForm,children:[Object(g.jsx)("button",{type:"submit",className:y.a.SearchFormButton,children:Object(g.jsx)("span",{className:y.a.SearchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{className:y.a.SearchFormInput,onInput:t,name:"searchQuery",value:a,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},S=a(24),O=a.n(S),v=a(10),I=a.n(v),_=Object(r.createContext)(),x=function(){return Object(g.jsx)(_.Consumer,{children:function(e){var t=e.images,a=e.onOpenModal;return t.map((function(e){var t=e.id,r=e.webformatURL,o=e.tags,n=e.largeImageURL;return Object(g.jsx)("li",{onClick:a,className:I.a.ImageGalleryItem,children:Object(g.jsx)("img",{src:r,alt:o,"data-source":n,className:I.a.ImageGalleryItemImage})},t)}))}})},L=function(){return Object(g.jsx)("ul",{className:O.a.ImageGallery,id:"imagesList",children:Object(g.jsx)(x,{})})},w=a(25),M=a.n(w),F=function(e){var t=e.onLoadMore;return Object(g.jsx)("button",{onClick:t,className:M.a.Button,type:"button",children:"Load more"})},Q=a(11),G=a.n(Q),N=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))).onKeyDown=function(t){"Escape"===t.key&&e.props.onCloseModal(t)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){return Object(g.jsx)("div",{onClick:this.props.onCloseModal,className:G.a.Overlay,children:Object(g.jsx)("div",{className:G.a.Modal,children:Object(g.jsx)("img",{src:this.props.modalImg,alt:this.props.modalAlt})})})}}]),a}(r.Component),k=a(26),A=a.n(k),B=function(e,t){var a=new URLSearchParams({image_type:"photo",orientation:"horizontal",q:e,page:t,per_page:12,key:"21195458-19b2d8fc62244b43de198b4d0"});return A.a.get("".concat("https://pixabay.com/api/","?").concat(a))},C=a(27),P=a.n(C),D=a(28),E=a.n(D),q=function(){return Object(g.jsx)("div",{className:E.a.Loader,children:Object(g.jsx)(P.a,{type:"Audio",color:"#00BFFF",height:150,width:150})})},R=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))).state={images:e.props.images,currentPage:e.props.currentPage,searchQuery:e.props.searchQuery,isLoading:e.props.isLoading,error:e.props.error,showModal:e.props.showModal,modalImg:e.props.modalImg,modalAlt:e.props.modalAlt,onOpenModal:function(t){e.setState({modalImg:t.target.dataset.source,showModal:!0,modalAlt:t.target.attributes.alt.textContent}),document.body.classList.add("is-open")}},e.onSubmit=function(t){t.preventDefault();var a=e.state.searchQuery;e.setState({isLoading:!0}),B(a,1).then((function(t){return e.setState({images:t.data.hits})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))},e.onLoadMore=function(){var t=e.state,a=t.searchQuery,r=t.currentPage;e.setState({isLoading:!0}),B(a,r+1).then((function(t){return e.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(t.data.hits)),currentPage:e.currentPage+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){e.setState({isLoading:!1}),window.scrollTo({top:document.querySelector("#imagesList").scrollHeight,behavior:"smooth"})}))},e.onCloseModal=function(t){"IMG"!==t.target.nodeName&&e.setState({showModal:!1,modalImg:"",modalAlt:""}),document.body.classList.remove("is-open")},e.onSetQuery=function(t){e.setState(Object(s.a)({},t.target.name,t.target.value))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.searchQuery,a=e.images,r=e.isLoading,o=e.showModal,n=e.modalImg,c=e.modalAlt;return Object(g.jsx)(_.Provider,{value:this.state,children:Object(g.jsxs)(b,{children:[Object(g.jsx)(f,{onSubmit:this.onSubmit,onSetQuery:this.onSetQuery,searchQuery:t}),Object(g.jsx)(L,{}),r&&Object(g.jsx)(q,{}),a.length>11&&Object(g.jsx)(F,{onLoadMore:this.onLoadMore}),o&&Object(g.jsx)(N,{onCloseModal:this.onCloseModal,modalImg:n,modalAlt:c})]})})}}]),a}(r.Component);R.defaultProps={images:[],currentPage:1,searchQuery:"",isLoading:!1,error:null,showModal:!1,modalImg:"",modalAlt:""};var U=R;c.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(U,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.4bdb683a.chunk.js.map